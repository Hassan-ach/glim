<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="300" xmlns="http://www.w3.org/2000/svg">
  <style>
    .box { stroke: #333; fill: #fff; }
    .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    .title { font-family: Arial; font-size: 14px; font-weight: bold; text-anchor: middle; }
    .label { font-family: Arial; font-size: 12px; text-anchor: middle; }
    .provider { font-family: Arial; font-size: 12px; font-weight: bold; text-anchor: middle; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="#3b3b3b">Glim PocketFlow Architecture</text>

  <!-- Input Node -->
  <rect class="box" x="100" y="70" width="120" height="60" rx="5" fill="#ffcccb" />
  <text class="title" x="160" y="95">Input Node</text>
  <text class="label" x="160" y="115">YouTube URL</text>

  <!-- Extraction Node -->
  <rect class="box" x="300" y="70" width="120" height="60" rx="5" fill="#c2e0ff" />
  <text class="title" x="360" y="95">Extraction Node</text>
  <text class="label" x="360" y="115">Video Transcript</text>

  <!-- Analysis Node -->
  <rect class="box" x="500" y="70" width="120" height="60" rx="5" fill="#d4f7c9" />
  <text class="title" x="560" y="95">Analysis Node</text>
  <text class="label" x="560" y="115">Topic Extraction</text>

  <!-- Question Node -->
  <rect class="box" x="100" y="180" width="120" height="60" rx="5" fill="#ffecb3" />
  <text class="title" x="160" y="205">Question Node</text>
  <text class="label" x="160" y="225">Generate Questions</text>

  <!-- Answer Node -->
  <rect class="box" x="300" y="180" width="120" height="60" rx="5" fill="#e1bee7" />
  <text class="title" x="360" y="205">Answer Node</text>
  <text class="label" x="360" y="225">ELI5 Answers</text>

  <!-- Output Node -->
  <rect class="box" x="500" y="180" width="120" height="60" rx="5" fill="#b2dfdb" />
  <text class="title" x="560" y="205">Output Node</text>
  <text class="label" x="560" y="225">HTML/PDF Generation</text>

  <!-- Arrows -->
  <path class="arrow" d="M 220,100 H 290" />
  <path class="arrow" d="M 420,100 H 490" />
  <path class="arrow" d="M 560,130 V 155 H 160 V 180" />
  <path class="arrow" d="M 220,210 H 290" />
  <path class="arrow" d="M 420,210 H 490" />

  <!-- LLM Providers Box -->
  <rect x="250" y="250" width="300" height="40" rx="5" stroke="#333" fill="#f5f5f5" />
  <text class="provider" x="400" y="275" fill="#d32f2f">Google</text>
  <text class="provider" x="340" y="275" fill="#1976d2">OpenAI</text>
  <text class="provider" x="460" y="275" fill="#388e3c">Anthropic</text>
  <text class="provider" x="520" y="275" fill="#7b1fa2">LocalAI</text>
  <text class="provider" x="280" y="275" fill="#f57c00">⚙️</text>
</svg>
